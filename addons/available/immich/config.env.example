# =============================================================================
# Immich Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# PÅKRÆVET - Disse SKAL ændres
# -----------------------------------------------------------------------------

# Storage drev for billeder/videoer (f.eks. /dev/sdb1, /dev/nvme0n1p1)
# Dette drev vil blive formateret og mountet til Immich data
STORAGE_DEVICE=""

# Storage størrelse i GB (mindst 100GB anbefales)
# Bruges til at validere at drevet er stort nok
MIN_STORAGE_GB=100

# -----------------------------------------------------------------------------
# VALGFRIT - Kan ændres efter behov
# -----------------------------------------------------------------------------

# Container images
IMAGE_VERSION="v1.106.0"

# Ports (kun localhost)
WEB_PORT=2283
MICROSERVICES_PORT=3002

# Eksponér via Cloudflare Tunnel? (true/false)
EXPOSE_EXTERNAL=false

# Subdomain hvis eksponeret
SUBDOMAIN="photos"

# Domain for tunnel
DOMAIN="humethix.dk"

# Ressource limits - OPTIMERET BASERET PÅ HARDWARE
# Automatisk justeret baseret på tilgængelig memory og CPU
# High-end system (>16GB RAM, 4+ cores)
SERVER_MEMORY_LIMIT="4g"
SERVER_CPU_LIMIT="2.0"
MICROSERVICES_MEMORY_LIMIT="2g"
# Medium system (8-16GB RAM, 2-4 cores)
# SERVER_MEMORY_LIMIT="2g"
# SERVER_CPU_LIMIT="1.5"
# MICROSERVICES_MEMORY_LIMIT="1g"
# Low-end system (<8GB RAM, 1-2 cores)
# SERVER_MEMORY_LIMIT="1g"
# SERVER_CPU_LIMIT="1.0"
# MICROSERVICES_MEMORY_LIMIT="512m"

# Database settings - OPTIMERET BASERET PÅ HARDWARE
# High-end system
DB_MEMORY_LIMIT="2g"
DB_CPU_LIMIT="1.5"
# Medium system
# DB_MEMORY_LIMIT="1g"
# DB_CPU_LIMIT="1.0"
# Low-end system
# DB_MEMORY_LIMIT="512m"
# DB_CPU_LIMIT="0.5"

REDIS_MEMORY_LIMIT="512m"

# Immich specifikke indstillinger - OPTIMERET BASERET PÅ HARDWARE
# Enable machine learning for object detection (kræver mere resources)
# High-end system: ENABLE_MACHINE_LEARNING="true"
# Medium system: ENABLE_MACHINE_LEARNING="true"
# Low-end system: ENABLE_MACHINE_LEARNING="false"
ENABLE_MACHINE_LEARNING="true"

# Concurrent thumbnail generation - OPTIMERET BASERET PÅ CPU
# High-end CPU (>4 cores): THUMBNAIL_CONCURRENCY="4"
# Medium CPU (2-4 cores): THUMBNAIL_CONCURRENCY="2"
# Low-end CPU (1-2 cores): THUMBNAIL_CONCURRENCY="1"
THUMBNAIL_CONCURRENCY="2"

# Maximum file size (MB) - OPTIMERET BASERET PÅ MEMORY
# High-end system: MAX_FILE_SIZE="500"
# Medium system: MAX_FILE_SIZE="200"
# Low-end system: MAX_FILE_SIZE="100"
MAX_FILE_SIZE="200"

# Maximum antal filer per upload - OPTIMERET BASERET PÅ MEMORY
# High-end system: MAX_NUMBER_OF_FILES="50000"
# Medium system: MAX_NUMBER_OF_FILES="10000"
# Low-end system: MAX_NUMBER_OF_FILES="5000"
MAX_NUMBER_OF_FILES="10000"

# Storage type (filesystem, s3)
STORAGE_TYPE="filesystem"

# External storage (hvis STORAGE_TYPE="s3")
# S3_ENDPOINT=""
# S3_BUCKET=""
# S3_REGION=""
# S3_ACCESS_KEY=""
# S3_SECRET_KEY=""
